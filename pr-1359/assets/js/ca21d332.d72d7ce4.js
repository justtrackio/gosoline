"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[3064],{4524(e,t,i){i.r(t),i.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>a,frontMatter:()=>d,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"reference/package-httpserver","title":"Package httpserver","description":"Package httpserver provides a convenient way to create HTTP servers.","source":"@site/docs/reference/package-httpserver.mdx","sourceDirName":"reference","slug":"/reference/package-httpserver","permalink":"/gosoline/pr-1359/reference/package-httpserver","draft":false,"unlisted":false,"editUrl":"https://github.com/justtrackio/gosoline/tree/main/docs/docs/reference/package-httpserver.mdx","tags":[],"version":"current","frontMatter":{"title":"Package httpserver"},"sidebar":"docSidebar","previous":{"title":"Package fixtures","permalink":"/gosoline/pr-1359/reference/package-fixtures"},"next":{"title":"Package log","permalink":"/gosoline/pr-1359/reference/package-log"}}');var s=i(4848),r=i(8453);const d={title:"Package httpserver"},l="httpserver package",o={},h=[{value:"Methods",id:"methods",level:2},{value:"New()",id:"new",level:3},{value:"Usage",id:"usage",level:4},{value:"Description",id:"description",level:4},{value:"Definer()",id:"definer",level:3},{value:"Usage",id:"usage-1",level:4},{value:"Description",id:"description-1",level:4},{value:"Handle()",id:"handle",level:3},{value:"Usage",id:"usage-2",level:4},{value:"Description",id:"description-2",level:4},{value:"Related methods",id:"related-methods",level:4},{value:"Configuration",id:"configuration",level:2},{value:"Settings",id:"settings",level:3},{value:"Timeout settings",id:"timeout-settings",level:3},{value:"Compression settings",id:"compression-settings",level:3},{value:"CompressionExcludeSettings",id:"compressionexcludesettings",level:3}];function c(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"httpserver-package",children:"httpserver package"})}),"\n",(0,s.jsx)(t.p,{children:"Package httpserver provides a convenient way to create HTTP servers."}),"\n",(0,s.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(t.h3,{id:"new",children:(0,s.jsx)(t.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/httpserver/server.go#L75",children:"New()"})}),"\n",(0,s.jsx)(t.h4,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-go",children:"httpserver.New(definer.MyCustomDefiner)\n"})}),"\n",(0,s.jsx)(t.h4,{id:"description",children:"Description"}),"\n",(0,s.jsxs)(t.p,{children:["Creates a new ",(0,s.jsx)(t.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/kernel/module.go#L26",children:(0,s.jsx)(t.code,{children:"ModuleFactory"})}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"definer",children:(0,s.jsx)(t.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/httpserver/definition.go#L14",children:"Definer()"})}),"\n",(0,s.jsx)(t.h4,{id:"usage-1",children:"Usage"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-go",children:'func ApiDefiner(ctx context.Context, config cfg.Config, logger log.Logger) (*httpserver.Definitions, error) {\n\tdefinitions := &httpserver.Definitions{}\n\tdefinitions.GET("/hello-world", httpserver.CreateHandler(helloWorldHandler))\n\treturn definitions, nil\n}\n\napplication.WithModuleFactory("api", httpserver.New(definer.ApiDefiner))\n'})}),"\n",(0,s.jsx)(t.h4,{id:"description-1",children:"Description"}),"\n",(0,s.jsxs)(t.p,{children:["This method returns a ",(0,s.jsx)(t.code,{children:"Definitions"})," pointer."]}),"\n",(0,s.jsx)(t.p,{children:"The idiomatic way to create an httpserver is to:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["Instantiate a new ",(0,s.jsx)(t.code,{children:"Definitions"})," object"]}),"\n",(0,s.jsx)(t.li,{children:"Use its many methods to add functionality to it,"}),"\n",(0,s.jsxs)(t.li,{children:["Declare a ",(0,s.jsx)(t.code,{children:"Definer()"}),", which returns this object"]}),"\n",(0,s.jsxs)(t.li,{children:["Call ",(0,s.jsx)(t.a,{href:"#new",children:(0,s.jsx)(t.code,{children:"New()"})}),"."]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"handle",children:(0,s.jsx)(t.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/httpserver/definition.go#L69",children:"Handle()"})}),"\n",(0,s.jsx)(t.h4,{id:"usage-2",children:"Usage"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-go",children:"def := &httpserver.Definitions{}\ndef.Handle(http.PostRequest, relativePath, handlers...)\n"})}),"\n",(0,s.jsx)(t.h4,{id:"description-2",children:"Description"}),"\n",(0,s.jsx)(t.p,{children:"With this method, you can define functionality to be run whenever your server receives an HTTP call to a given path."}),"\n",(0,s.jsx)(t.h4,{id:"related-methods",children:"Related methods"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/httpserver/definition.go#L80",children:(0,s.jsx)(t.code,{children:"POST()"})})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/httpserver/definition.go#L84",children:(0,s.jsx)(t.code,{children:"GET()"})})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/httpserver/definition.go#L88",children:(0,s.jsx)(t.code,{children:"DELETE()"})})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/httpserver/definition.go#L92",children:(0,s.jsx)(t.code,{children:"PUT()"})})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/httpserver/definition.go#L96",children:(0,s.jsx)(t.code,{children:"OPTIONS()"})})}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsx)(t.p,{children:":::info Further Reading"}),"\n",(0,s.jsxs)(t.p,{children:["Check out our guide on ",(0,s.jsx)(t.a,{href:"/how-to/configure-your-httpserver",children:"configuring and running your server"}),"."]}),"\n",(0,s.jsx)(t.p,{children:":::"}),"\n",(0,s.jsx)(t.h3,{id:"settings",children:(0,s.jsx)(t.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/httpserver/server.go#L37",children:"Settings"})}),"\n",(0,s.jsx)(t.p,{children:"Configures an HTTP server."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Field"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Default"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Port"}),(0,s.jsx)(t.td,{children:"string"}),(0,s.jsx)(t.td,{children:"8080"}),(0,s.jsx)(t.td,{children:"Port the server listens to."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Mode"}),(0,s.jsx)(t.td,{children:"string"}),(0,s.jsx)(t.td,{children:"release"}),(0,s.jsx)(t.td,{children:"Mode is either debug, release, test."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Compression"}),(0,s.jsx)(t.td,{children:"CompressionSettings"}),(0,s.jsx)(t.td,{children:"-"}),(0,s.jsx)(t.td,{children:"Compression settings."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Timeout"}),(0,s.jsx)(t.td,{children:"TimeoutSettings"}),(0,s.jsx)(t.td,{children:"-"}),(0,s.jsx)(t.td,{children:"Timeout settings."})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"timeout-settings",children:(0,s.jsx)(t.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/httpserver/server.go#L51",children:"Timeout settings"})}),"\n",(0,s.jsx)(t.p,{children:"Configures IO timeouts."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Field"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Default"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Read"}),(0,s.jsx)(t.td,{children:"time.Duration"}),(0,s.jsx)(t.td,{children:"60s"}),(0,s.jsx)(t.td,{children:"Read timeout is the maximum duration for reading the entire request, including the body."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Write"}),(0,s.jsx)(t.td,{children:"time.Duration"}),(0,s.jsx)(t.td,{children:"60s"}),(0,s.jsx)(t.td,{children:"Write timeout is the maximum duration before timing out writes of the response."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Idle"}),(0,s.jsx)(t.td,{children:"time.Duration"}),(0,s.jsx)(t.td,{children:"60s"}),(0,s.jsx)(t.td,{children:"Idle timeout is the maximum amount of time to wait for the next request when keep-alives are enabled"})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"compression-settings",children:(0,s.jsx)(t.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/httpserver/compression.go#L13",children:"Compression settings"})}),"\n",(0,s.jsx)(t.p,{children:"Controls gzip support for requests and responses. By default, compressed requests are accepted and compressed responses are returned (if accepted by the client)."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Field"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Default"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Level"}),(0,s.jsx)(t.td,{children:"string"}),(0,s.jsx)(t.td,{children:"default"}),(0,s.jsx)(t.td,{children:"-"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Decompression"}),(0,s.jsx)(t.td,{children:"bool"}),(0,s.jsx)(t.td,{children:"true"}),(0,s.jsx)(t.td,{children:"-"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Exclude"}),(0,s.jsx)(t.td,{children:"CompressionExcludeSettings"}),(0,s.jsx)(t.td,{children:"-"}),(0,s.jsx)(t.td,{children:"Exclude files by path, extension, or regular expression from being considered for compression. Useful if you are serving a format unknown to Gosoline."})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"compressionexcludesettings",children:(0,s.jsx)(t.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/httpserver/compression.go#L21",children:"CompressionExcludeSettings"})}),"\n",(0,s.jsx)(t.p,{children:"Allows you to enable gzip support."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Field"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Default"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Extension"}),(0,s.jsx)(t.td,{children:"array of strings"}),(0,s.jsx)(t.td,{children:"-"}),(0,s.jsx)(t.td,{children:"-"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Path"}),(0,s.jsx)(t.td,{children:"array of strings"}),(0,s.jsx)(t.td,{children:"-"}),(0,s.jsx)(t.td,{children:"-"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"PathRegex"}),(0,s.jsx)(t.td,{children:"array of strings"}),(0,s.jsx)(t.td,{children:"-"}),(0,s.jsx)(t.td,{children:"-"})]})]})]})]})}function a(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453(e,t,i){i.d(t,{R:()=>d,x:()=>l});var n=i(6540);const s={},r=n.createContext(s);function d(e){const t=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);