app:
  env: test
  name: subscriber
  namespace: "{app.tags.project}.{app.env}.{app.tags.family}.{app.tags.group}"
  tags:
    project: justtrack
    family: gosoline
    group: kafka
  model_id:
    domain_pattern: "{app.tags.project}.{app.tags.family}.{app.tags.group}"

cloud:
  aws:
    dynamodb:
      clients: ~

mdlsub:
  subscribers:
    testModel:
      input: kafka
      output: ddb
      source: { tags: { group: source-group }, name: testEvent }

stream:
  input:
    subscriber-testModel:
      in_memory_override: false
      # start from the beginning of the topic to ensure we consume messages
      # produced before the consumer joins the group (default is "last")
      start_offset: first
  output:
    testEvent:
      type: kafka
      identity:
        tags:
          group: source-group
      topic_id: testEvent
      in_memory_override: false

test:
  components:
    kafka:
      default:
        expire_after: 5m
