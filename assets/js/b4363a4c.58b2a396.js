"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[5277],{3738(e,n,i){i.r(n),i.d(n,{assets:()=>s,contentTitle:()=>a,default:()=>g,frontMatter:()=>o,metadata:()=>c,toc:()=>l});const c=JSON.parse('{"id":"reference/package-cfg","title":"Package cfg","description":"With the cfg package, you can configure and use configurations in your gosoline project.","source":"@site/docs/reference/package-cfg.mdx","sourceDirName":"reference","slug":"/reference/package-cfg","permalink":"/gosoline/reference/package-cfg","draft":false,"unlisted":false,"editUrl":"https://github.com/justtrackio/gosoline/tree/main/docs/docs/reference/package-cfg.mdx","tags":[],"version":"current","frontMatter":{"title":"Package cfg"},"sidebar":"docSidebar","previous":{"title":"Reference","permalink":"/gosoline/category/reference"},"next":{"title":"Package cloud/aws","permalink":"/gosoline/reference/package-cloud_aws"}}');var r=i(4848),t=i(8453);const o={title:"Package cfg"},a="cfg package",s={},l=[{value:"Functions",id:"functions",level:2},{value:"WithConfigFile()",id:"withconfigfile",level:3},{value:"Usage",id:"usage",level:4},{value:"Description",id:"description",level:4},{value:"Methods",id:"methods",level:2},{value:"GetInt()",id:"getint",level:3},{value:"Usage",id:"usage-1",level:4},{value:"Description",id:"description-1",level:4},{value:"Related methods",id:"related-methods",level:4},{value:"Variables",id:"variables",level:2},{value:"DefaultEnvKeyReplacer",id:"defaultenvkeyreplacer",level:3},{value:"Usage",id:"usage-2",level:4},{value:"Description",id:"description-2",level:4}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"cfg-package",children:"cfg package"})}),"\n",(0,r.jsx)(n.p,{children:"With the cfg package, you can configure and use configurations in your gosoline project."}),"\n",(0,r.jsx)(n.h2,{id:"functions",children:"Functions"}),"\n",(0,r.jsx)(n.h3,{id:"withconfigfile",children:(0,r.jsx)(n.a,{href:"https://github.com/justtrackio/gosoline/blob/ff4eff871415fdf1b2b0d4ae86f99a48a990778c/pkg/cfg/options.go#L23",children:"WithConfigFile()"})}),"\n",(0,r.jsx)(n.h4,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'options := []cfg.Option{\n    cfg.WithConfigFile("config.dist.yml", "yml"),\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,r.jsx)(n.p,{children:"Load configurations from a file."}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"YAML is currently the only supported configuration filetype."})}),"\n",(0,r.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(n.h3,{id:"getint",children:(0,r.jsx)(n.a,{href:"https://github.com/justtrackio/gosoline/blob/ff4eff871415fdf1b2b0d4ae86f99a48a990778c/pkg/cfg/config.go#L129",children:"GetInt()"})}),"\n",(0,r.jsx)(n.h4,{id:"usage-1",children:"Usage"}),"\n",(0,r.jsx)(n.p,{children:"With default:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'config := cfg.New()\nconfig.GetInt("num", 1)\n'})}),"\n",(0,r.jsx)(n.p,{children:"Without default:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'config := cfg.New()\n\noptions := []cfg.Option{\n    cfg.WithConfigSetting("num", 1),\n}\n\nif err := config.Option(options...); err != nil {\n    panic(err)\n}\n\nconfig.GetInt("num")\n'})}),"\n",(0,r.jsx)(n.h4,{id:"description-1",children:"Description"}),"\n",(0,r.jsx)(n.p,{children:"Gets an integer from the configuration struct."}),"\n",(0,r.jsxs)(n.admonition,{type:"caution",children:[(0,r.jsx)(n.p,{children:"Environment variables overwrite configuration values:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'config := cfg.New()\n\noptions := []cfg.Option{\n    cfg.WithConfigSetting("port", "8080"),\n}\n\nif err := config.Option(options...); err != nil {\n    panic(err)\n}\n\n// Prints 8080\nfmt.Println(config.GetString("port"))\n\nos.Setenv("PORT", "8081")\n\n// Prints 8081\nport, err := config.GetString("port")\nif err != nil {\n    panic(err)\n}\nfmt.Println(port)\n'})})]}),"\n",(0,r.jsx)(n.h4,{id:"related-methods",children:"Related methods"}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"GetString()"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'config := cfg.New()\nstr, err := config.GetString("env", "dev")\nif err != nil {\n    panic(err)\n}\n'})})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"GetBool()"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'config := cfg.New()\nenabled, err := config.GetBool("enabled", true)\n'})})]}),"\n",(0,r.jsx)(n.h2,{id:"variables",children:"Variables"}),"\n",(0,r.jsx)(n.h3,{id:"defaultenvkeyreplacer",children:(0,r.jsx)(n.a,{href:"https://github.com/justtrackio/gosoline/blob/ff4eff871415fdf1b2b0d4ae86f99a48a990778c/pkg/cfg/config.go#L62",children:"DefaultEnvKeyReplacer"})}),"\n",(0,r.jsx)(n.h4,{id:"usage-2",children:"Usage"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"options := []cfg.Option{\n    cfg.WithEnvKeyReplacer(cfg.DefaultEnvKeyReplacer),\n}\n"})}),"\n",(0,r.jsx)(n.h4,{id:"description-2",children:"Description"}),"\n",(0,r.jsx)(n.p,{children:'Replaces "." and "-" with "_" for env key loading.'})]})}function g(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);