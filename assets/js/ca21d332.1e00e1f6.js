"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[3064],{4524(e,i,t){t.r(i),t.d(i,{assets:()=>h,contentTitle:()=>l,default:()=>a,frontMatter:()=>d,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"reference/package-httpserver","title":"Package httpserver","description":"Package httpserver provides a convenient way to create HTTP servers.","source":"@site/docs/reference/package-httpserver.mdx","sourceDirName":"reference","slug":"/reference/package-httpserver","permalink":"/gosoline/reference/package-httpserver","draft":false,"unlisted":false,"editUrl":"https://github.com/justtrackio/gosoline/tree/main/docs/docs/reference/package-httpserver.mdx","tags":[],"version":"current","frontMatter":{"title":"Package httpserver"},"sidebar":"docSidebar","previous":{"title":"Package fixtures","permalink":"/gosoline/reference/package-fixtures"},"next":{"title":"Package log","permalink":"/gosoline/reference/package-log"}}');var r=t(4848),n=t(8453);const d={title:"Package httpserver"},l="httpserver package",h={},o=[{value:"Methods",id:"methods",level:2},{value:"New()",id:"new",level:3},{value:"Usage",id:"usage",level:4},{value:"Description",id:"description",level:4},{value:"Definer()",id:"definer",level:3},{value:"Usage",id:"usage-1",level:4},{value:"Description",id:"description-1",level:4},{value:"Handle()",id:"handle",level:3},{value:"Usage",id:"usage-2",level:4},{value:"Description",id:"description-2",level:4},{value:"Related methods",id:"related-methods",level:4},{value:"Configuration",id:"configuration",level:2},{value:"Settings",id:"settings",level:3},{value:"Timeout settings",id:"timeout-settings",level:3},{value:"Compression settings",id:"compression-settings",level:3},{value:"CompressionExcludeSettings",id:"compressionexcludesettings",level:3}];function c(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsx)(i.h1,{id:"httpserver-package",children:"httpserver package"})}),"\n",(0,r.jsx)(i.p,{children:"Package httpserver provides a convenient way to create HTTP servers."}),"\n",(0,r.jsx)(i.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(i.h3,{id:"new",children:(0,r.jsx)(i.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/httpserver/server.go#L75",children:"New()"})}),"\n",(0,r.jsx)(i.h4,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-go",children:"httpserver.New(definer.MyCustomDefiner)\n"})}),"\n",(0,r.jsx)(i.h4,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(i.p,{children:["Creates a new ",(0,r.jsx)(i.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/kernel/module.go#L26",children:(0,r.jsx)(i.code,{children:"ModuleFactory"})}),"."]}),"\n",(0,r.jsx)(i.h3,{id:"definer",children:(0,r.jsx)(i.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/httpserver/definition.go#L14",children:"Definer()"})}),"\n",(0,r.jsx)(i.h4,{id:"usage-1",children:"Usage"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-go",children:'func ApiDefiner(ctx context.Context, config cfg.Config, logger log.Logger) (*httpserver.Definitions, error) {\n\tdefinitions := &httpserver.Definitions{}\n\tdefinitions.GET("/hello-world", httpserver.CreateHandler(helloWorldHandler))\n\treturn definitions, nil\n}\n\napplication.WithModuleFactory("api", httpserver.New(definer.ApiDefiner))\n'})}),"\n",(0,r.jsx)(i.h4,{id:"description-1",children:"Description"}),"\n",(0,r.jsxs)(i.p,{children:["This method returns a ",(0,r.jsx)(i.code,{children:"Definitions"})," pointer."]}),"\n",(0,r.jsx)(i.p,{children:"The idiomatic way to create an httpserver is to:"}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:["Instantiate a new ",(0,r.jsx)(i.code,{children:"Definitions"})," object"]}),"\n",(0,r.jsx)(i.li,{children:"Use its many methods to add functionality to it,"}),"\n",(0,r.jsxs)(i.li,{children:["Declare a ",(0,r.jsx)(i.code,{children:"Definer()"}),", which returns this object"]}),"\n",(0,r.jsxs)(i.li,{children:["Call ",(0,r.jsx)(i.a,{href:"#new",children:(0,r.jsx)(i.code,{children:"New()"})}),"."]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"handle",children:(0,r.jsx)(i.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/httpserver/definition.go#L69",children:"Handle()"})}),"\n",(0,r.jsx)(i.h4,{id:"usage-2",children:"Usage"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-go",children:"def := &httpserver.Definitions{}\ndef.Handle(http.PostRequest, relativePath, handlers...)\n"})}),"\n",(0,r.jsx)(i.h4,{id:"description-2",children:"Description"}),"\n",(0,r.jsx)(i.p,{children:"With this method, you can define functionality to be run whenever your server receives an HTTP call to a given path."}),"\n",(0,r.jsx)(i.h4,{id:"related-methods",children:"Related methods"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/httpserver/definition.go#L80",children:(0,r.jsx)(i.code,{children:"POST()"})})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/httpserver/definition.go#L84",children:(0,r.jsx)(i.code,{children:"GET()"})})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/httpserver/definition.go#L88",children:(0,r.jsx)(i.code,{children:"DELETE()"})})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/httpserver/definition.go#L92",children:(0,r.jsx)(i.code,{children:"PUT()"})})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/httpserver/definition.go#L96",children:(0,r.jsx)(i.code,{children:"OPTIONS()"})})}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(i.p,{children:":::info Further Reading"}),"\n",(0,r.jsxs)(i.p,{children:["Check out our guide on ",(0,r.jsx)(i.a,{href:"/how-to/configure-your-httpserver",children:"configuring and running your server"}),"."]}),"\n",(0,r.jsx)(i.p,{children:":::"}),"\n",(0,r.jsx)(i.h3,{id:"settings",children:(0,r.jsx)(i.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/httpserver/server.go#L37",children:"Settings"})}),"\n",(0,r.jsx)(i.p,{children:"Configures an HTTP server."}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Field"}),(0,r.jsx)(i.th,{children:"Type"}),(0,r.jsx)(i.th,{children:"Default"}),(0,r.jsx)(i.th,{children:"Description"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Port"}),(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"8080"}),(0,r.jsx)(i.td,{children:"Port the server listens to."})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Mode"}),(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"release"}),(0,r.jsx)(i.td,{children:"Mode is either debug, release, test."})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Compression"}),(0,r.jsx)(i.td,{children:"CompressionSettings"}),(0,r.jsx)(i.td,{children:"-"}),(0,r.jsx)(i.td,{children:"Compression settings."})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Timeout"}),(0,r.jsx)(i.td,{children:"TimeoutSettings"}),(0,r.jsx)(i.td,{children:"-"}),(0,r.jsx)(i.td,{children:"Timeout settings."})]})]})]}),"\n",(0,r.jsx)(i.h3,{id:"timeout-settings",children:(0,r.jsx)(i.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/httpserver/server.go#L51",children:"Timeout settings"})}),"\n",(0,r.jsx)(i.p,{children:"Configures IO timeouts."}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Field"}),(0,r.jsx)(i.th,{children:"Type"}),(0,r.jsx)(i.th,{children:"Default"}),(0,r.jsx)(i.th,{children:"Description"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Read"}),(0,r.jsx)(i.td,{children:"time.Duration"}),(0,r.jsx)(i.td,{children:"60s"}),(0,r.jsx)(i.td,{children:"Read timeout is the maximum duration for reading the entire request, including the body."})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Write"}),(0,r.jsx)(i.td,{children:"time.Duration"}),(0,r.jsx)(i.td,{children:"60s"}),(0,r.jsx)(i.td,{children:"Write timeout is the maximum duration before timing out writes of the response."})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Idle"}),(0,r.jsx)(i.td,{children:"time.Duration"}),(0,r.jsx)(i.td,{children:"60s"}),(0,r.jsx)(i.td,{children:"Idle timeout is the maximum amount of time to wait for the next request when keep-alives are enabled"})]})]})]}),"\n",(0,r.jsx)(i.h3,{id:"compression-settings",children:(0,r.jsx)(i.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/httpserver/compression.go#L13",children:"Compression settings"})}),"\n",(0,r.jsx)(i.p,{children:"Controls gzip support for requests and responses. By default, compressed requests are accepted and compressed responses are returned (if accepted by the client)."}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Field"}),(0,r.jsx)(i.th,{children:"Type"}),(0,r.jsx)(i.th,{children:"Default"}),(0,r.jsx)(i.th,{children:"Description"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Level"}),(0,r.jsx)(i.td,{children:"string"}),(0,r.jsx)(i.td,{children:"default"}),(0,r.jsx)(i.td,{children:"-"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Decompression"}),(0,r.jsx)(i.td,{children:"bool"}),(0,r.jsx)(i.td,{children:"true"}),(0,r.jsx)(i.td,{children:"-"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Exclude"}),(0,r.jsx)(i.td,{children:"CompressionExcludeSettings"}),(0,r.jsx)(i.td,{children:"-"}),(0,r.jsx)(i.td,{children:"Exclude files by path, extension, or regular expression from being considered for compression. Useful if you are serving a format unknown to Gosoline."})]})]})]}),"\n",(0,r.jsx)(i.h3,{id:"compressionexcludesettings",children:(0,r.jsx)(i.a,{href:"https://github.com/justtrackio/gosoline/blob/main/pkg/httpserver/compression.go#L21",children:"CompressionExcludeSettings"})}),"\n",(0,r.jsx)(i.p,{children:"Allows you to enable gzip support."}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Field"}),(0,r.jsx)(i.th,{children:"Type"}),(0,r.jsx)(i.th,{children:"Default"}),(0,r.jsx)(i.th,{children:"Description"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Extension"}),(0,r.jsx)(i.td,{children:"array of strings"}),(0,r.jsx)(i.td,{children:"-"}),(0,r.jsx)(i.td,{children:"-"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Path"}),(0,r.jsx)(i.td,{children:"array of strings"}),(0,r.jsx)(i.td,{children:"-"}),(0,r.jsx)(i.td,{children:"-"})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"PathRegex"}),(0,r.jsx)(i.td,{children:"array of strings"}),(0,r.jsx)(i.td,{children:"-"}),(0,r.jsx)(i.td,{children:"-"})]})]})]})]})}function a(e={}){const{wrapper:i}={...(0,n.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);