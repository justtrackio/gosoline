"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[6727],{8268(n,t,i){i.r(t),i.d(t,{assets:()=>a,contentTitle:()=>l,default:()=>p,frontMatter:()=>c,metadata:()=>o,toc:()=>g});const o=JSON.parse('{"id":"how-to/load-configs","title":"Load configurations","description":"There are different ways to load configurations into your application:","source":"@site/docs/how-to/load-configs.mdx","sourceDirName":"how-to","slug":"/how-to/load-configs","permalink":"/gosoline/how-to/load-configs","draft":false,"unlisted":false,"editUrl":"https://github.com/justtrackio/gosoline/tree/main/docs/docs/how-to/load-configs.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Load configurations"},"sidebar":"docSidebar","previous":{"title":"Configure your HTTP servers","permalink":"/gosoline/how-to/configure-your-httpserver"},"next":{"title":"Use loggers","permalink":"/gosoline/how-to/logging/use-loggers"}}');var e=i(4848),r=i(8453),s=i(3457);const c={sidebar_position:1,title:"Load configurations"},l=void 0,a={},g=[{value:"Conclusion",id:"conclusion",level:2}];function h(n){const t={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",ul:"ul",...(0,r.R)(),...n.components},{Details:i}=t;return i||function(n,t){throw new Error("Expected "+(t?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.p,{children:"There are different ways to load configurations into your application:"}),"\n",(0,e.jsxs)(i,{children:[(0,e.jsx)("summary",{children:"From a file"}),(0,e.jsx)(t.p,{children:"First, configure your project in a yaml file:"}),(0,e.jsx)(s.A,{showLineNumbers:!0,language:"yaml",title:"config.dist.yml",children:"port: 80\nhost: example.com\n\nstruct_example:\n  port: 80\n  host: example.com\n  timeout: 5s\n  threshold: 100"}),(0,e.jsx)(t.p,{children:"Then, load your configurations into your application:"}),(0,e.jsx)(s.A,{showLineNumbers:!0,language:"go",title:"main.go",children:'package main\n\nimport (\n\t// 1\n\t"github.com/justtrackio/gosoline/pkg/cfg"\n)\n\nfunc main() {\n\t// 2\n\tconfig := cfg.New()\n\n\t// 3\n\toptions := []cfg.Option{\n\t\tcfg.WithConfigFile("config.dist.yml", "yml"),\n\t}\n\n\t// 4\n\tif err := config.Option(options...); err != nil {\n\t\tpanic(err)\n\t}\n}\n'}),(0,e.jsx)(t.p,{children:"Here, you:"}),(0,e.jsxs)(t.ol,{children:["\n",(0,e.jsxs)(t.li,{children:["Import the ",(0,e.jsx)(t.code,{children:"cfg"})," package."]}),"\n",(0,e.jsx)(t.li,{children:"Create a new configuration object."}),"\n",(0,e.jsx)(t.li,{children:"Load configurations from the file."}),"\n",(0,e.jsx)(t.li,{children:"Apply the options."}),"\n"]})]}),"\n",(0,e.jsxs)(i,{children:[(0,e.jsx)("summary",{children:"From a map"}),(0,e.jsx)(s.A,{showLineNumbers:!0,language:"go",title:"main.go",children:'package main\n\nimport (\n\t// 1\n\t"github.com/justtrackio/gosoline/pkg/cfg"\n)\n\nfunc main() {\n\t// 2\n\tconfig := cfg.New()\n\n\t// 3\n\toptions := []cfg.Option{\n\t\tcfg.WithConfigMap(map[string]any{\n\t\t\t"enabled": true,\n\t\t}),\n\t}\n\n\t// 4\n\tif err := config.Option(options...); err != nil {\n\t\tpanic(err)\n\t}\n}\n'}),(0,e.jsx)(t.p,{children:"Here, you:"}),(0,e.jsxs)(t.ol,{children:["\n",(0,e.jsxs)(t.li,{children:["Import the ",(0,e.jsx)(t.code,{children:"cfg"})," package."]}),"\n",(0,e.jsx)(t.li,{children:"Create a new configuration object."}),"\n",(0,e.jsx)(t.li,{children:"Load configurations from the map."}),"\n",(0,e.jsx)(t.li,{children:"Apply the options."}),"\n"]})]}),"\n",(0,e.jsxs)(i,{children:[(0,e.jsx)("summary",{children:"From individual settings"}),(0,e.jsx)(s.A,{showLineNumbers:!0,language:"go",title:"main.go",children:'package main\n\nimport (\n\t// 1\n\t"github.com/justtrackio/gosoline/pkg/cfg"\n)\n\nfunc main() {\n\t// 2\n\tconfig := cfg.New()\n\n\t// 3\n\toptions := []cfg.Option{\n\t\tcfg.WithConfigSetting("host", "localhost"),\n\t\tcfg.WithConfigSetting("port", "80"),\n\t}\n\n\t// 4\n\tif err := config.Option(options...); err != nil {\n\t\tpanic(err)\n\t}\n}\n'}),(0,e.jsx)(t.p,{children:"Here, you've:"}),(0,e.jsxs)(t.ol,{children:["\n",(0,e.jsxs)(t.li,{children:["Import the ",(0,e.jsx)(t.code,{children:"cfg"})," package."]}),"\n",(0,e.jsx)(t.li,{children:"Create a new configuration object."}),"\n",(0,e.jsx)(t.li,{children:"Load configurations from settings."}),"\n",(0,e.jsx)(t.li,{children:"Apply the options."}),"\n"]})]}),"\n",(0,e.jsxs)(i,{children:[(0,e.jsx)("summary",{children:"From multiple sources"}),(0,e.jsx)(s.A,{showLineNumbers:!0,language:"go",title:"main.go",children:'package main\n\nimport (\n\t// 1\n\t"github.com/justtrackio/gosoline/pkg/cfg"\n)\n\nfunc main() {\n\t// 2\n\tconfig := cfg.New()\n\n\t// 3\n\toptions := []cfg.Option{\n\t\tcfg.WithConfigFile("config.dist.yml", "yml"),\n\t\tcfg.WithConfigMap(map[string]any{\n\t\t\t"enabled": true,\n\t\t}),\n\t\tcfg.WithConfigSetting("foo", "bar"),\n\t}\n\n\t// 4\n\tif err := config.Option(options...); err != nil {\n\t\tpanic(err)\n\t}\n}\n'}),(0,e.jsx)(t.p,{children:"Here, you've:"}),(0,e.jsxs)(t.ol,{children:["\n",(0,e.jsxs)(t.li,{children:["Import the ",(0,e.jsx)(t.code,{children:"cfg"})," package."]}),"\n",(0,e.jsx)(t.li,{children:"Create a new configuration object."}),"\n",(0,e.jsx)(t.li,{children:"Load configurations from multiple sources."}),"\n",(0,e.jsx)(t.li,{children:"Apply the options."}),"\n"]})]}),"\n",(0,e.jsx)(t.p,{children:"Once you've loaded your configurations, you can access them with type-specific getters. For example:"}),"\n",(0,e.jsx)(s.A,{showLineNumbers:!0,language:"go",title:"main.go",lineHighlight:"22-23",children:'package main\n\nimport (\n\t"fmt"\n\n\t"github.com/justtrackio/gosoline/pkg/cfg"\n)\n\nfunc main() {\n\tconfig := cfg.New()\n\n\toptions := []cfg.Option{\n\t\tcfg.WithConfigFile("config.dist.yml", "yml"),\n\t}\n\n\tif err := config.Option(options...); err != nil {\n\t\tpanic(err)\n\t}\n\n\t// highlight-start\n\tport, err := config.GetInt("port")\n\tif err != nil {\n\t\tpanic(fmt.Errorf("failed to get port: %w", err))\n\t}\n\tfmt.Printf("got port: %d\\n", port)\n\n\thost, err := config.GetString("host")\n\tif err != nil {\n\t\tpanic(fmt.Errorf("failed to get host: %w", err))\n\t}\n\tfmt.Printf("got host: %s\\n", host)\n\t// highlight-end\n}\n'}),"\n",(0,e.jsx)(t.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,e.jsx)(t.p,{children:"In this guide, you've learned multiple ways to load configurations into your app with gosoline."}),"\n",(0,e.jsx)(t.p,{children:"Check out these resources to learn more about configurations and gosoline:"}),"\n",(0,e.jsxs)(t.ul,{children:["\n",(0,e.jsx)(t.li,{children:(0,e.jsx)(t.a,{href:"/how-to/logging/use-loggers#implement-a-logger-with-an-app-configuration",children:"Configure a logger with gosoline"})}),"\n",(0,e.jsx)(t.li,{children:(0,e.jsx)(t.a,{href:"/reference/package-cfg",children:"API reference for the cfg package"})}),"\n"]})]})}function p(n={}){const{wrapper:t}={...(0,r.R)(),...n.components};return t?(0,e.jsx)(t,{...n,children:(0,e.jsx)(h,{...n})}):h(n)}}}]);